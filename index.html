<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>迷失森林中的小屋測驗</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-orange: #F6AD48;
            --dark-gray: #4A4A4A;
            --medium-gray: #555555;
            --light-gray-bg: #3D3D3D;
            --white: #FFFFFF;
            --text-dark: #2c2c2c;
            --font-primary: 'Montserrat', 'Noto Sans TC', '微軟正黑體', sans-serif;
        }

        body {
            font-family: var(--font-primary);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #2c2c2c;
            color: var(--white);
            padding: 20px;
            box-sizing: border-box;
        }

        #app-container {
            width: 90%;
            max-width: 700px;
            background: var(--dark-gray);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            position: relative;
            animation: fadeIn 1.5s ease-in-out;
        }

        .logo-placeholder {
            position: absolute;
            bottom: 25px;
            right: 35px;
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            font-size: 2em;
            color: var(--primary-orange);
            opacity: 0.8;
            z-index: 1;
            pointer-events: none;
        }

        .page {
            text-align: center;
            display: none; /* Hide by default */
            transition: opacity 0.5s ease-in-out;
            min-height: 500px;
            flex-direction: column;
        }

        .page-header {
            background-color: var(--primary-orange);
            padding: 30px 40px;
            color: var(--text-dark);
        }

        .page-content {
            padding: 30px 40px;
            flex-grow: 1; 
            background-color: var(--dark-gray);
        }

        .page-footer {
            padding: 20px 40px 40px 40px;
            background-color: var(--dark-gray);
        }

        .page.active {
            display: flex; /* Show when active */
            opacity: 1;
        }

        .page.fading-out {
            opacity: 0;
        }

        /* Start Page */
        #start-page h1 {
            font-size: 2.5em;
            margin: 0;
            font-weight: 700;
        }
        
        #start-page .page-header p {
             font-size: 1.1em;
             margin-top: 10px;
             opacity: 0.8;
        }

        #start-page .page-content p {
            font-size: 1.1em;
            line-height: 1.7;
            color: #f0f0f0;
        }
        
        .start-btn {
            background-color: var(--primary-orange);
            color: var(--text-dark);
            padding: 15px 35px;
            border: none;
            border-radius: 50px;
            font-size: 1.1em;
            font-weight: 700;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            margin-top: 30px;
        }

        .start-btn:hover {
            background-color: #ffc15c;
            transform: translateY(-3px);
        }

        /* Question Page */
        #question-page .question-text {
            font-size: 1.5em;
            line-height: 1.6;
            margin-bottom: 25px;
            color: var(--white);
            font-weight: 700;
        }

        #question-page .story-narrative {
            font-style: italic;
            color: #ededed;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }

        .option-btn {
            background-color: var(--medium-gray);
            color: var(--white);
            padding: 20px;
            border: 2px solid transparent;
            border-radius: 10px;
            font-size: 1em;
            font-family: var(--font-primary);
            text-align: left;
            cursor: pointer;
            transition: all 0.3s;
        }

        .option-btn:hover {
            background-color: #666;
            transform: translateY(-2px);
            border-color: rgba(246, 173, 72, 0.5);
        }

        .navigation-buttons {
            display: flex;
            justify-content: center;
            margin-top: 30px;
        }

        .nav-btn {
            background-color: transparent;
            color: var(--primary-orange);
            padding: 10px 25px;
            border: 2px solid var(--primary-orange);
            border-radius: 50px;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
            font-size: 0.9em;
            font-weight: 700;
        }

        .nav-btn:disabled {
            border-color: #777;
            color: #777;
            cursor: not-allowed;
            background-color: transparent;
        }

        .nav-btn:hover:not(:disabled) {
            background-color: var(--primary-orange);
            color: var(--text-dark);
        }

        /* Result Page */
        #result-page .page-header h2 {
            font-size: 1.2em; /* Adjusted base font size */
            line-height: 1.5; /* Adjusted line height for multiline */
            margin: 0;
            font-weight: 400; /* Regular weight for surrounding text */
        }

        /* NEW STYLE FOR THE HIGHLIGHTED STYLE NAME */
        .style-name {
            display: inline-block;
            font-size: 1.8em; /* Makes the style name bigger */
            font-weight: 700; /* Makes the style name bold */
            margin: 8px 0; /* Adds vertical spacing */
            color: var(--text-dark);
        }

        #result-image-container {
            width: 200px;
            height: 200px;
            margin: 30px auto 30px auto; /* Removed negative margin */
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.5);
            border: 5px solid var(--dark-gray);
            position: relative;
            z-index: 2;
            background: #2c2c2c;
        }
        
        #result-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        #result-page p {
            font-size: 1.1em;
            line-height: 1.8;
            text-align: left;
            margin-bottom: 20px;
        }
        
        #result-page .result-analysis-box {
            background-color: var(--light-gray-bg);
            padding: 25px;
            border-radius: 10px;
            text-align: center;
        }
        
        #personality-analysis {
            font-style: italic;
            opacity: 0.9;
            margin-top: 20px;
            border-top: 1px solid var(--medium-gray);
            padding-top: 20px;
        }

        .contact-btn {
            background-color: var(--primary-orange);
            color: var(--text-dark);
            padding: 15px 35px;
            border: none;
            border-radius: 50px;
            font-size: 1.1em;
            font-weight: 700;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            text-decoration: none;
            display: inline-block;
        }
        .contact-btn:hover {
            background-color: #ffc15c;
            transform: translateY(-3px);
        }
        
        .restart-btn {
            background-color: transparent;
            color: var(--white);
            border: 2px solid var(--white);
            padding: 15px 35px;
            border-radius: 50px;
            font-size: 1.1em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
            margin-left: 15px; 
        }
        .restart-btn:hover {
            background-color: var(--white);
            color: var(--text-dark);
            transform: translateY(-3px);
        }

        /* Progress Bar */
        .progress-bar-container {
            width: 100%;
            height: 8px;
            background-color: var(--medium-gray);
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background-color: var(--primary-orange);
            border-radius: 4px;
            transition: width 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
    </style>
</head>
<body>
    <div id="app-container">
        <div class="logo-placeholder">KS</div>

        <div id="start-page" class="page active">
            <div class="page-header">
                <h1>迷失森林中的小屋</h1>
                <p>探索你內心的居家風格</p>
            </div>
            <div class="page-content">
                <p>你隻身在濃霧瀰漫的森林中迷了路。夜色將至，你偶然發現一間隱蔽在樹林深處的廢棄小屋。推開大門，迎接你的將是…一場由你親手打造的冒險。</p>
            </div>
             <div class="page-footer">
                <button class="start-btn" onclick="startQuiz()">進入小屋</button>
            </div>
        </div>

        <div id="question-page" class="page">
             <div class="page-header">
                 <p class="story-narrative"></p>
                 <h2 class="question-text"></h2>
             </div>
             <div class="page-content">
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <div class="options-container"></div>
             </div>
             <div class="page-footer">
                <div class="navigation-buttons">
                    <button class="nav-btn" id="prevBtn" onclick="goBack()" disabled>上一題</button>
                </div>
             </div>
        </div>

        <div id="result-page" class="page">
            <div class="page-header">
                <h2 id="result-title"></h2>
            </div>
            <div class="page-content">
                <div id="result-image-container">
                    <img id="result-image" src="" alt="風格結果圖片">
                </div>
                <div class="result-analysis-box">
                    <p id="result-analysis"></p>
                    <p id="personality-analysis"></p>
                </div>
            </div>
             <div class="page-footer">
                <a href="https://www.instagram.com/kungshin.design?igsh=M2VjdHFkZHdjdnh2&utm_source=qr" class="contact-btn">了解更多</a>
                <button class="restart-btn" onclick="restartQuiz()">重新測驗</button>
             </div>
        </div>

    </div>

    <script>
        let currentQuestionIndex = 0;
        let userAnswers = [];
        const appContainer = document.getElementById('app-container');
        const startPage = document.getElementById('start-page');
        const questionPage = document.getElementById('question-page');
        const resultPage = document.getElementById('result-page');
        const questionText = document.querySelector('#question-page .question-text');
        const storyNarrative = document.querySelector('#question-page .story-narrative');
        const optionsContainer = document.querySelector('.options-container');
        const resultTitle = document.getElementById('result-title');
        const resultImage = document.getElementById('result-image');
        const resultAnalysis = document.getElementById('result-analysis');
        const personalityAnalysis = document.getElementById('personality-analysis');
        const progressBar = document.getElementById('progressBar');
        const prevBtn = document.getElementById('prevBtn');

        const FADE_TIME = 500;

        const questions = [
            {
                id: 1,
                text: "你推開那扇吱呀作響的木門，一股氣味撲面而來，你的第一反應是？",
                narrative: "第一步，你踏進了這座廢棄小屋...",
                options: {
                    A: "是泥土與新芽的清新，陽光穿過木質窗櫺，灑落一地金黃。",
                    B: "是舊書與塵埃的歷史感，窗外風聲呼嘯，彷彿在低語著過往。",
                    C: "是無盡的靜謐與純粹，空氣中沒有任何雜味，只有一種空靈的純淨。",
                    D: "是混凝土與金屬的清晰氣味，帶來一種堅固、可靠的結構感。"
                }
            },
            {
                id: 2,
                text: "你循著氣味走進中央，一個角落的微光吸引了你。那道光來自於？",
                narrative: "你繼續深入小屋，好奇心驅使你走向一個發光的角落...",
                options: {
                    A: "一盞老舊的煤油燈，在牆角靜靜地燃燒著，散發出溫暖的光。",
                    B: "幾盞金屬外殼的燈具，它們的線路裸露在外，卻充滿未來的設計感。",
                    C: "一扇天窗，月光或星光直接灑落，照亮了地板上的一塵不染。",
                    D: "安裝在軌道上的一排聚光燈，清晰地照亮了特定區域。"
                }
            },
            {
                id: 3,
                text: "你發現了小屋裡的一張桌子，上面擺放著一組奇特的工具。你會如何處理它們？",
                narrative: "在微光的指引下，你找到一張桌子，上面擺放著工具...",
                options: {
                    A: "仔細地擦拭每一件工具，為它們找到合適的收納位置。",
                    B: "將所有工具重新排列，按照你的喜好混搭，創造出獨一無二的組合。",
                    C: "只留下最基本、最重要的幾樣，將多餘的全部扔掉，保持桌面的淨空。",
                    D: "根據工具的機能與幾何形狀來排列，打造一個高效的工作區。"
                }
            },
            {
                id: 4,
                text: "當你望向窗外時，你的目光被遠處的一片森林景色所吸引，你看到的是？",
                narrative: "你抬頭望向窗外，窗外的景色將給你帶來靈感...",
                options: {
                    A: "茂密的樹林和潺潺的溪流，自然景觀充滿生機，讓你感到平靜與安寧。",
                    B: "遠處有一座冒著煙的小鎮，讓你興奮地想去探索那裡的人文風情。",
                    C: "一望無際的雪景，一切都被純白覆蓋，你感到一種超脫世俗的寧靜。",
                    D: "遠方橋樑的俐落線條或城市天際線，充滿結構與機能之美。"
                }
            },
            {
                id: 5,
                text: "你決定裝修小屋的牆壁，你會選擇哪種材料來覆蓋？",
                narrative: "現在，你決定賦予這座小屋全新的面貌...",
                options: {
                    A: "用溫暖的木板覆蓋，讓整個空間充滿森林的氣息。",
                    B: "用色彩鮮豔的織物和掛毯裝飾，創造出自由奔放的氛圍。",
                    C: "維持原本的白牆，只用最簡單的線條勾勒，強調空間的純粹。",
                    D: "使用平滑的拋光混凝板，展現材質最原始、未經裝飾的美感。"
                }
            },
            {
                id: 6,
                text: "當你餓了，你會選擇如何準備晚餐？",
                narrative: "肚子餓了，你該如何利用小屋裡的資源準備一頓晚餐？",
                options: {
                    A: "在壁爐邊燃起溫暖的火，用簡單的食材煮一鍋湯。",
                    B: "拿出你隨身攜帶的香料，創造出充滿異國風味的料理。",
                    C: "只吃最簡單、最原始的食物，享受食物本身的純粹味道。",
                    D: "使用一套多功能的模組化廚具，有條不紊地高效完成一餐。"
                }
            },
            {
                id: 7,
                text: "小屋裡有一面空白的牆，你決定用來展示你的收藏。你會展示什麼？",
                narrative: "在你的巧手下，小屋逐漸有了你的味道。你發現了一面空白的牆...",
                options: {
                    A: "撿來的乾燥花和樹枝，將大自然的美景搬進室內。",
                    B: "從各地旅行帶回來的紀念品，讓牆面充滿故事感。",
                    C: "只有一面掛著一件藝術品的牆，留白成為另一種表達。",
                    D: "幾何抽象畫作或建築的藍曬圖，展現對形式與功能的喜愛。"
                }
            },
            {
                id: 8,
                text: "夜深了，你決定如何點亮小屋？",
                narrative: "夜幕降臨，你該如何讓這個空間充滿溫暖與光明？",
                options: {
                    A: "溫馨的黃色燈光，讓整個空間充滿安全感。",
                    B: "不同顏色的彩燈和燈串，讓小屋充滿節慶般的熱鬧氣氛。",
                    C: "只點燃一盞小燈，讓大部分空間沉浸在寧靜的黑暗中。",
                    D: "使用可調節角度的聚光燈和俐落的金屬立燈，提供清晰的功能性照明。"
                }
            },
            {
                id: 9,
                text: "你為小屋打造了一個小小的戶外空間，那裡是什麼樣子？",
                narrative: "你打開後門，發現一個可以改造的小小戶外空間...",
                options: {
                    A: "一個種滿了香草和蔬菜的小菜園，充滿了生命力。",
                    B: "一個掛滿了手工編織吊床和彩色燈飾的休憩區，充滿了自由與放鬆。",
                    C: "一張木製長椅和一個小茶几，簡單而舒適，能獨自靜靜地欣賞風景。",
                    D: "一個線條乾淨的結構化露台，搭配內置的清水模座椅和機能性火爐。"
                }
            },
            {
                id: 10,
                text: "清晨，當你準備離開小屋時，你回頭望了最後一眼，你覺得這座小屋現在是…？",
                narrative: "清晨，你帶著滿載而歸的心情準備離開...",
                options: {
                    A: "一個充滿陽光和溫暖的庇護所，是你與大自然連結的秘密基地。",
                    B: "一個色彩斑斕、充滿故事的家，每一次探索都像一場新的冒險。",
                    C: "一個純淨而簡潔的空間，讓你找到了內心的平靜與秩序。",
                    D: "一個高度機能化且結構清晰的空間，每個物件都有其明確的用途。"
                }
            },
        ];

        const results = {
             A: {
                title: "你是...<br><span class='style-name'>北歐風 (Scandinavian)</span><br>小屋的主人",
                analysis: "你的選擇顯示你偏好溫暖、自然、簡約的生活方式，你的小屋將是一個充滿陽光、木質和舒適感的庇護所。",
                personality: "你的個性溫和而務實，注重細節，享受生活中的小確幸。你樂於與自然和諧共處，總能在大地中找到心靈的慰藉。",
                imageSrc: "北歐風.jpg"
            },
            B: {
                title: "你是...<br><span class='style-name'>波希米亞風 (Boho)</span><br>小屋的主人",
                analysis: "你的選擇顯示你充滿自由與冒險精神，你的小屋將是一個充滿繽紛色彩、來自各地的故事和無拘無束的夢想之地。",
                personality: "你是一個熱愛自由、充滿創意和冒險精神的旅人。你從不害怕嘗試新事物，你的生命就是一場沒有終點的探索，而你的家就是你所有故事的集合。",
                imageSrc: "波希米亞風.png"
            },
            C: {
                title: "你是...<br><span class='style-name'>極簡風 (Minimalist)</span><br>小屋的主人",
                analysis: "你的選擇顯示你追求純粹與秩序，你的小屋將沒有多餘的裝飾，每一個物件都有其存在的必要，為你提供了心靈的喘息空間。",
                personality: "你是一個追求純粹與秩序的思考者，相信「少即是多」的哲學。你內心堅定，不隨波-流，總能在混亂中找到屬於自己的寧靜與平衡。",
                imageSrc: "極簡風.png"
            },
            D: {
                title: "你是...<br><span class='style-name'>工業風 (Industrial)</span><br>小屋的主人",
                analysis: "你的選擇顯示你喜愛原始、粗獷的質感，你的小屋將充滿裸露的磚牆、金屬和舊機械，是一個充滿創造力與無限可能性的工坊。",
                personality: "你是一個充滿好奇心與創造力的實踐家。你喜歡動手，享受從無到有的過程。你樂於挑戰既定的規則，並從舊事物中發掘新的價值，你的生活就是一場永不止息的創造。",
                imageSrc: "工業風.png"
            },
            A_C: {
                title: "你是...<br><span class='style-name'>有機現代風 (Organic Modern)</span><br>小屋的主人",
                analysis: "你的小屋融合了自然材質的溫潤與現代設計的簡潔，以流線型家具與和諧的色彩為主。這是一個充滿平靜與生命力的空間，讓你能夠與大自然保持連結，同時享受現代的舒適與秩序。",
                personality: "你是一個務實而理性的夢想家，追求生活的品質，但又不失對簡約的崇尚。你善於平衡內心的需求與外在的環境，創造出和諧的生活。",
                imageSrc: "有機現代風.png"
            },
            D_A: {
                title: "你是...<br><span class='style-name'>現代農舍 (Modern Farmhouse)</span><br>小屋的主人",
                analysis: "你的小屋結合了傳統農舍的質樸與現代設計的舒適，將歲月的痕跡融入居家空間。這裡既有粗獷的木質與金屬，又不失家的溫馨，是一個充滿個性與舒適的空間。",
                personality: "你是一個既有創造力又有溫度的實踐者。你喜歡親自動手，享受改造的樂趣，同時也懂得營造溫馨的氛圍，讓每一個角落都充滿故事。",
                imageSrc: "現代農舍風.png"
            },
            D_C: {
                title: "你是...<br><span class='style-name'>包浩斯風 (Bauhaus)</span><br>小屋的主人",
                analysis: "你的小屋充滿了理性的幾何線條與功能導向的設計。在這裡，沒有多餘的裝飾，每一個物件都為了其功能而存在。這是一個極度純粹與高效的空間，讓你能夠專注於你的創造與思考。",
                personality: "你是一個充滿邏輯與秩序的發明家，思維清晰，追求效率。你善於分析與規劃，並從極簡中尋找靈感，將每一個想法都付諸實踐。",
                imageSrc: "包浩斯風.jpg"
            },
            C_B: {
                title: "你是...<br><span class='style-name'>靜奢風 (Glam)</span><br>小屋的主人",
                analysis: "你的小屋充滿了低調奢華、閃耀與精緻的氣息。以絲絨、金屬光澤和亮面材質為核心，創造出一個充滿戲劇性與高雅氛圍的空間。這是一個讓你感到備受寵愛、自信十足的個人舞台。",
                personality: "你是一個注重生活品質、追求精緻美學的品味家。你享受用細節來提升生活的儀式感，並樂於展現自己的獨特魅力，你的生活就像一場永不止息的盛宴。",
                imageSrc: "靜奢風.png"
            },
            B_C_D_alt: {
                title: "你是...<br><span class='style-name'>經典美式風 (American Style)</span><br>小屋的主人",
                analysis: "你的小屋充滿了舒適、隨性和溫暖的氛圍，注重實用性與家的感覺。這裡有著寬敞舒適的沙發、溫暖的木質地板和經典的線條，是一個能夠讓你完全放鬆，充滿生活氣息的空間。",
                personality: "你是一個熱愛生活、注重實用與舒適的實踐家。你喜歡營造溫馨的氛圍，善於將傳統與現代元素巧妙融合，創造出一個充滿回憶與溫暖的家。",
                imageSrc: "經典美式風.jpg"
            }
        };

        function showPage(pageId) {
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => {
                if (page.id === pageId) {
                    page.classList.add('active');
                } else {
                    page.classList.remove('active');
                }
            });
        }

        function updateProgressBar() {
            const progress = (currentQuestionIndex / questions.length) * 100;
            progressBar.style.width = progress + '%';
        }

        function startQuiz() {
            startPage.classList.add('fading-out');
            setTimeout(() => {
                startPage.classList.remove('active', 'fading-out');
                showPage('question-page');
                loadQuestion();
            }, FADE_TIME);
        }

        function loadQuestion() {
            if (currentQuestionIndex < questions.length) {
                const question = questions[currentQuestionIndex];
                storyNarrative.textContent = question.narrative;
                questionText.textContent = question.text;
                optionsContainer.innerHTML = '';
                for (const [key, value] of Object.entries(question.options)) {
                    const button = document.createElement('button');
                    button.textContent = value;
                    button.classList.add('option-btn');
                    button.onclick = () => handleAnswer(key);
                    optionsContainer.appendChild(button);
                }
                updateProgressBar();
                prevBtn.disabled = currentQuestionIndex === 0;
            } else {
                showResult();
            }
        }

        function handleAnswer(answer) {
            userAnswers.push(answer);
            questionPage.classList.add('fading-out');
            setTimeout(() => {
                currentQuestionIndex++;
                loadQuestion();
                questionPage.classList.remove('fading-out');
            }, FADE_TIME);
        }

        function goBack() {
            if (currentQuestionIndex > 0) {
                questionPage.classList.add('fading-out');
                setTimeout(() => {
                    currentQuestionIndex--;
                    userAnswers.pop();
                    loadQuestion();
                    questionPage.classList.remove('fading-out');
                }, FADE_TIME);
            }
        }

        function showResult() {
            const resultKey = determineResult();
            const resultData = results[resultKey] || results.A; 
            
            resultTitle.innerHTML = resultData.title;
            resultImage.src = resultData.imageSrc;
            resultImage.alt = resultData.title;
            resultAnalysis.innerHTML = resultData.analysis;
            personalityAnalysis.innerHTML = resultData.personality;

            questionPage.classList.add('fading-out');
            setTimeout(() => {
                questionPage.classList.remove('active', 'fading-out');
                showPage('result-page');
            }, FADE_TIME);
        }
        
        function determineResult() {
            const counts = {};
            userAnswers.forEach(answer => {
                counts[answer] = (counts[answer] || 0) + 1;
            });

            const sortedCounts = Object.entries(counts).sort(([, a], [, b]) => b - a);
            const mainOption = sortedCounts[0] ? sortedCounts[0][0] : null;
            const secondOption = sortedCounts[1] ? sortedCounts[1][0] : null;

            if (mainOption === 'A' && secondOption === 'C') return 'A_C';
            if (mainOption === 'A' && secondOption === 'D') return 'D_A';
            if (mainOption === 'D' && secondOption === 'A') return 'D_A';
            if (mainOption === 'C' && secondOption === 'A') return 'A_C';
            if (mainOption === 'B' && secondOption === 'A') return 'B';
            if (mainOption === 'D' && secondOption === 'B') return 'D';
            if (mainOption === 'C' && secondOption === 'B') return 'C_B';
            if (mainOption === 'D' && secondOption === 'C') return 'D_C';
            if (mainOption === 'B' && secondOption === 'D') return 'B_C_D_alt';

            return mainOption || 'A';
        }

        function restartQuiz() {
            resultPage.classList.add('fading-out');
            setTimeout(() => {
                currentQuestionIndex = 0;
                userAnswers = [];
                resultPage.classList.remove('active', 'fading-out');
                showPage('start-page');
            }, FADE_TIME);
        }
    </script>
</body>
</html>